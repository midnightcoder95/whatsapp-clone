{"ast":null,"code":"import _slicedToArray from\"/home/ujwal/Desktop/projects/whatsapp-clone-firebase/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./Sidebar.css\";import{Avatar,IconButton}from\"@material-ui/core\";import DonutLargeIcon from\"@material-ui/icons/DonutLarge\";import ChatIcon from\"@material-ui/icons/Chat\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import{SearchOutlined}from\"@material-ui/icons\";import SidebarChat from\"./SidebarChat\";import db from\"./firebase\";import{useStateValue}from\"./StateProvider\";function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){var unsubscribe=db.collection(\"rooms\").onSnapshot(function(snapshot){return setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__header\"},/*#__PURE__*/React.createElement(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__headerRight\"},/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(DonutLargeIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(ChatIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(MoreVertIcon,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__search\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__searchContainer\"},/*#__PURE__*/React.createElement(SearchOutlined,null),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Search or start new chat\",type:\"text\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__chats\"},/*#__PURE__*/React.createElement(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/React.createElement(SidebarChat,{key:room.id,id:room.id,name:room.data.name});})));}export default Sidebar;","map":{"version":3,"sources":["/home/ujwal/Desktop/projects/whatsapp-clone-firebase/whatsapp-clone/src/Sidebar.js"],"names":["React","useEffect","useState","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchOutlined","SidebarChat","db","useStateValue","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"0LAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,eAAP,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,OAASC,cAAT,KAA+B,oBAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAEA,QAASC,CAAAA,OAAT,EAAmB,eACSV,QAAQ,CAAC,EAAD,CADjB,wCACVW,KADU,eACHC,QADG,kCAEYH,aAAa,EAFzB,kDAERI,IAFQ,oBAERA,IAFQ,CAEAC,QAFA,oBAIjBf,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,WAAW,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAACC,QAAD,QACpDN,CAAAA,QAAQ,CACNM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CAC1BC,EAAE,CAAED,GAAG,CAACC,EADkB,CAE1BC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAFoB,CAAV,EAAlB,CADM,CAD4C,EAAlC,CAApB,CASA,MAAO,WAAM,CACXR,WAAW,GACZ,CAFD,CAGD,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACE,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,oBAAC,MAAD,EAAQ,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAAnB,EADF,cAEE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,UAAD,mBACE,oBAAC,cAAD,MADF,CADF,cAIE,oBAAC,UAAD,mBACE,oBAAC,QAAD,MADF,CAJF,cAOE,oBAAC,UAAD,mBACE,oBAAC,YAAD,MADF,CAPF,CAFF,CADF,cAeE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,cAAD,MADF,cAEE,6BAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFF,CADF,CAfF,cAqBE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,WAAD,EAAa,UAAU,KAAvB,EADF,CAEGb,KAAK,CAACS,GAAN,CAAU,SAACK,IAAD,qBACT,oBAAC,WAAD,EAAa,GAAG,CAAEA,IAAI,CAACH,EAAvB,CAA2B,EAAE,CAAEG,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EADS,EAAV,CAFH,CArBF,CADF,CA8BD,CAED,cAAehB,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Sidebar.css\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport SidebarChat from \"./SidebarChat\";\nimport db from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction Sidebar() {\n  const [rooms, setRooms] = useState([]);\n  const [{ user }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    const unsubscribe = db.collection(\"rooms\").onSnapshot((snapshot) =>\n      setRooms(\n        snapshot.docs.map((doc) => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      )\n    );\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__header\">\n        <Avatar src={user?.photoURL} />\n        <div className=\"sidebar__headerRight\">\n          <IconButton>\n            <DonutLargeIcon />\n          </IconButton>\n          <IconButton>\n            <ChatIcon />\n          </IconButton>\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sidebar__search\">\n        <div className=\"sidebar__searchContainer\">\n          <SearchOutlined />\n          <input placeholder=\"Search or start new chat\" type=\"text\" />\n        </div>\n      </div>\n      <div className=\"sidebar__chats\">\n        <SidebarChat addNewChat />\n        {rooms.map((room) => (\n          <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}